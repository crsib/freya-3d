#
# File generated by CMakeBuilder
#
#
cmake_minimum_required(VERSION 2.6)


PROJECT ( Freya3D )

INCLUDE_DIRECTORIES( Framework/Include )

#Setup enviroment

SET ( CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/Build/Static )
SET ( CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/Build/Bin )
SET ( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/Build/Bin )

# Search for libraries
#Addition Find modules
SET( CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_SOURCE_DIR}/CMakeFind )

SET(Boost_USE_STATIC_LIBS   ON)
SET(Boost_USE_MULTITHREADED ON)
FIND_PACKAGE ( BoostSTLPort REQUIRED COMPONENTS filesystem system thread date_time )

MESSAGE ("Boost include: ${Boost_INCLUDE_DIRS} libs: ${Boost_LIBRARIES}" )

FIND_PACKAGE ( STLPort REQUIRED)
MESSAGE ("STLPort include: ${STLPORT_INCLUDE_DIR} libs: ${STLPORT_LIBRARIES}" )

FIND_PACKAGE ( SDL13 REQUIRED )
MESSAGE ("SDL 1.3 found: ${SDL_FOUND} include: ${SDL_INCLUDE_DIR} libs: ${SDL_LIBRARY}" )

FIND_PACKAGE ( OpenGL REQUIRED )
MESSAGE ("OpenGL include: ${OPENGL_INCLUDE_DIR} libs: ${OPENGL_LIBRARY}" )

#Setup project-wide include and link directories

INCLUDE_DIRECTORIES(BEFORE ${Boost_INCLUDE_DIRS} ${STLPORT_INCLUDE_DIR})
LINK_DIRECTORIES(${Boost_LIBRARY_DIRS})

#run other directories cmake
SET ( BUILD_SHARED_LIBS OFF )
MESSAGE("Building shared version of core: ${BUILD_SHARED_LIBS}")

#set multithreaded enviroment for STLport
SET(CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS} -D_STLP_THREADS)

SET( COREFOUNDATION )
IF(APPLE)
	FIND_LIBRARY(COREFOUNDATION CoreFoundation)
	MESSAGE("Using CoreFoundation as ${COREFOUNDATION}")
ENDIF(APPLE)

ADD_SUBDIRECTORY ( Framework Build/Bin/Core)
ADD_SUBDIRECTORY ( Tests Build/Bin/Test)